<!DOCTYPE html>
<html>
    <head>
        <title>Multi Watch</title>

        <!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Link for jquery required for bootstrap -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

        <script type='text/javascript'>
	    	//globals
	    	var listStopWatch = [];
	    	var idCounter = 1;

			function StopWatchBody(id, title, time) {
				var retStr = "<div class='col-md-6' id='" + id + "'>" +
							 	"<div class='panel panel-default'>" +
							  		"<div class='panel-heading'>" +
							  			"<h3 class='panel-title'>" +
							 				title +
							  			"</h3>" +
							  		"</div>" +
							  		"<div class='panel-body'>" +
							  			"<p class='text-center'>" +
							 				time +
							  			"</p>" +
							  		"</div>" +
							  		"<div class='panel-footer'>" +
							  			"<div class='btn-group btn-group-justified'>" +
							  				"<span class='btn btn-success'><span class='glyphicon glyphicon-play'>Resume</span></span>" +
											"<span class='btn btn-info'><span class='glyphicon glyphicon-refresh'></span>Restart</span>" +
											"<span class='btn btn-danger' onclick='RemoveOne(" + id + ")'><span class='glyphicon glyphicon-remove'>Remove</span>" +
										"<!/div>" +
									"</div>" +
								"</div>" +
							  "</div>";
				
				return retStr;

			}
	    	
	    	function Watch(id, status = 0, title, startTime) {
	    		this.id = id;
	    		this.status = 0; // 0 -> pause state 1 -> play state
	    		this.title = title;
	    		this.startTime = startTime;
	    		this.curTime = '';
	    	}

	    	function AddWatch() {
	    		listStopWatch[listStopWatch.length] = new Watch(idCounter, 1, document.getElementById('title').value, Date.now());
	    		idCounter = idCounter + 1;
	    		$("#stopwatches").append(StopWatchBody(listStopWatch[listStopWatch.length - 1].id, listStopWatch[listStopWatch.length-1].title, 1000));
	    	}

	    	function ShowList() {
	    		console.log(listStopWatch);
	    		// for(var i = 0; i < listStopWatch.length; i++) {
	    		// 	console.log(listStopWatch[i].title);
	    		// }
	    	}

	    	function RemoveOne(id) {
	    		document.getElementById(id).outerHTML = '';
	    		for(var i = 0; i < listStopWatch.length; i++) {
	    			if(listStopWatch[i].id == id) {
	    				listStopWatch.splice(i, 1);
	    				break;
	    			}
	    		}
	    	}

	    	function RemoveAll() {
	    		listStopWatch = [];
	    		idCounter = 1;
	    		$("#stopwatches").html('');
	    	}

	    	setInterval(ShowList, 1000);
    	</script>
    </head>
    <body class='container'>
	    <div class="row">
	    <div class="container-fluid">
	    	<h1 class="page-header text-center"> Multi Stop Watch </h1>
	    	<div class="input-group">
	    		<input id='title' type='text' class="form-control" placeholder="Enter title for StopWatch"/>
	    		<span class="input-group-btn">
	    			<p onclick="AddWatch()" class="form-control btn btn-primary"><span class="glyphicon glyphicon-plus"></span> Add stopwatch </p>
	    		</span>
	    	</div>
		</div>	
		</div>
	    
	    <!--container for Stopwatches -->
    	<div class="row" id="stopwatches">
 
	    </div>
		
		<hr>
	    <div class="row">
	    	<p class="col-md-offset-5 btn btn-danger btn-lg" onclick="RemoveAll()"><span class="glyphicon glyphicon-remove"></span>REMOVE ALL</p>
	    </div>
	    	
    </body>

</html>
